{"mappings":"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","sources":["src/index.js"],"sourcesContent":["class Navigation {\r\n  constructor () {\r\n    this.header = document.querySelector(\"header\");\r\n    this.searchInput = this.header.querySelector(\".yxt-SearchBar-input\");\r\n    this.searchBtn = this.header.querySelector(\".main__search-btn\");\r\n    this.flyoutExpanded = this.header.querySelector(\".main__flyout[data-expanded='true']\");\r\n    this.mainAnchorActive = this.header.querySelector(\".main__link[aria-expanded='true']\");\r\n    this.language = this.header.querySelector(\".language\");\r\n    this.languageBtn = this.header.querySelector(\".utility__language\");\r\n  }\r\n  expandSearch () {\r\n    if (this.header.matches(\".menu-expanded\")) {\r\n      this.closeMenu();\r\n    }\r\n    this.header.classList.add(\"search-expanded\");\r\n    this.searchInput.focus();\r\n  }\r\n  closeSearch () {\r\n    this.header.classList.remove(\"search-expanded\");\r\n    // this.searchBtn.focus();\r\n  }\r\n  expandMenu (target) {\r\n    var section = this.header.querySelector(`.main__flyout[data-id=\"${target.dataset.id}\"]`);\r\n\r\n    this.header.classList.add(\"menu-expanded\");\r\n    if (isMobile) {\r\n      this.header.classList.add(\"mobile\");\r\n    }\r\n    if (section) {\r\n      this.resetExpandedState();\r\n      section.setAttribute(\"data-expanded\", true);\r\n      target.setAttribute(\"aria-expanded\", true);\r\n    }\r\n    // section.querySelector(\"a\").focus();\r\n  }\r\n  closeMenu () {\r\n    this.header.classList.remove(\"menu-expanded\");\r\n    this.header.classList.remove(\"mobile\");\r\n    this.resetExpandedState();\r\n    // this.mainAnchorActive.focus();\r\n  }\r\n  resetExpandedState () {\r\n    this.flyoutExpanded && this.flyoutExpanded.setAttribute(\"data-expanded\", false);\r\n    this.mainAnchorActive && this.mainAnchorActive.setAttribute(\"aria-expanded\", false);\r\n  }\r\n  expandLanguageMenu () {\r\n    this.header.classList.add(\"language-expanded\");\r\n    // this.language.querySelector(\"a\").focus();\r\n  }\r\n  closeLanguageMenu () {\r\n    this.header.classList.remove(\"language-expanded\");\r\n    // this.languageBtn.focus();\r\n  }\r\n  getDataAttr () {\r\n    var array = Array.from(document.querySelectorAll(\"header a, header button\"));\r\n    var data = array.reduce(function(acc, curr) {\r\n      var isYextButton = curr.matches(\".js-yext-submit\") || curr.matches(\".js-yxt-SearchBar-clear\");\r\n      if (!isYextButton) {\r\n        acc.push({\r\n          text: curr.innerText.trim() || `Img: ${curr.dataset.dmValue}`,\r\n          href: curr.href,\r\n          dmCategory: curr.dataset.dmCategory,\r\n          dmEvent: curr.dataset.dmEvent,\r\n          dmType: curr.dataset.dmType,\r\n          dmValue: curr.dataset.dmValue,\r\n          type: curr.tagName\r\n        });\r\n      }\r\n      return acc;\r\n    }, []);\r\n    console.table(data);\r\n  }\r\n}\r\n\r\n// class alias\r\nvar nav = function () {\r\n  return new Navigation();\r\n};\r\n\r\n// event listeners\r\ndocument.querySelector(\".main__search-btn\").addEventListener(\"click\", function () {\r\n  nav().expandSearch();\r\n});\r\n\r\ndocument.querySelector(\".utility__search-btn\").addEventListener(\"click\", function () {\r\n  var header = document.querySelector(\"header\");\r\n\r\n  if (header.matches(\".search-expanded\")) {\r\n    nav().closeSearch();\r\n  } else {\r\n    nav().expandSearch();\r\n  }\r\n});\r\n\r\ndocument.querySelector(\".utility__menu-btn\").addEventListener(\"click\", function (event) {\r\n  var header = document.querySelector(\"header\");\r\n  \r\n  if (header.matches(\".menu-expanded\")) {\r\n    nav().closeMenu();\r\n  } else {\r\n    nav().expandMenu(event.target);\r\n  }\r\n});\r\n\r\ndocument.querySelectorAll(\".main__link\").forEach(function (el) {\r\n  el.addEventListener(\"click\", function (event) {\r\n    if (!isMobile && event.target.ariaExpanded) {\r\n      event.preventDefault();\r\n      nav().expandMenu(event.target);\r\n    }\r\n  });\r\n});\r\n\r\ndocument.querySelectorAll(\".main__close-btn\").forEach(function (el) {\r\n  el.addEventListener(\"click\", function () {\r\n    nav().closeMenu();\r\n  });\r\n});\r\n\r\ndocument.querySelectorAll(\".utility__language\").forEach(function (el) {\r\n  el.addEventListener(\"click\", function () {\r\n    nav().expandLanguageMenu();\r\n  });\r\n});\r\n\r\ndocument.querySelector(\".language__close-btn\").addEventListener(\"click\", function () {\r\n  nav().closeLanguageMenu();\r\n});\r\n\r\ndocument.addEventListener(\"click\", function(event) {\r\n  var search = document.querySelector(\".search-expanded\");\r\n  var language = document.querySelector(\".language-expanded\");\r\n  var menu = document.querySelector(\".menu-expanded\");\r\n\r\n  if (!event.target.closest(\".main__search-btn, .utility__search-btn, .yxt-SearchBar-input, .yxt-SearchBar-autocomplete\")) {\r\n    if (search) {\r\n      nav().closeSearch();\r\n    }\r\n  }\r\n  if (!event.target.closest(\".main, .utility\") && !isMobile) {\r\n    if (menu) {\r\n      nav().closeMenu();\r\n    }\r\n  }\r\n  if (!event.target.closest(\".utility__language, .language\")) {\r\n    if (language) {\r\n      nav().closeLanguageMenu();\r\n    }\r\n  }\r\n});\r\n\r\ndocument.addEventListener(\"keydown\", function(event) {\r\n  var search = document.querySelector(\".search-expanded\");\r\n  var language = document.querySelector(\".language-expanded\");\r\n  var menu = document.querySelector(\".menu-expanded\");\r\n\r\n  if (event.key === \"Escape\") {\r\n    if (search) {\r\n      nav().closeSearch();\r\n    }\r\n    if (menu) {\r\n      nav().closeMenu();\r\n    }\r\n    if (language) {\r\n      nav().closeLanguageMenu();\r\n    }\r\n  }\r\n});\r\n\r\nvar isMobile = window.innerWidth < 768;\r\nwindow.addEventListener(\"resize\", function() {\r\n  isMobile = window.innerWidth < 768;\r\n});"],"names":[],"version":3,"file":"index.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}