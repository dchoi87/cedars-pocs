{"mappings":"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","sources":["src/index.js"],"sourcesContent":["class Navigation {\r\n  constructor () {\r\n    this.header = document.querySelector(\"header\");\r\n    this.searchInput = this.header.querySelector(\".yxt-SearchBar-input\");\r\n    this.searchBtn = this.header.querySelector(\".main__search-btn\");\r\n    this.flyoutExpanded = this.header.querySelector(\".main__flyout[data-expanded='true']\");\r\n    this.mainAnchorActive = this.header.querySelector(\".main__link[aria-expanded='true']\");\r\n    this.language = this.header.querySelector(\".language\");\r\n    this.languageBtn = this.header.querySelector(\".utility__language\");\r\n  }\r\n  expandSearch () {\r\n    if (this.header.matches(\".menu-expanded\")) {\r\n      this.closeMenu();\r\n    }\r\n    this.header.classList.add(\"search-expanded\");\r\n    this.searchInput.focus();\r\n  }\r\n  closeSearch () {\r\n    this.header.classList.remove(\"search-expanded\");\r\n    // this.searchBtn.focus();\r\n  }\r\n  expandMenu (target) {\r\n    var section = this.header.querySelector(`.main__flyout[data-id=\"${target.dataset.id}\"]`);\r\n\r\n    this.header.classList.add(\"menu-expanded\");\r\n    if (isMobile) {\r\n      this.header.classList.add(\"mobile\");\r\n    }\r\n    if (section) {\r\n      this.resetExpandedState();\r\n      section.setAttribute(\"data-expanded\", true);\r\n      target.setAttribute(\"aria-expanded\", true);\r\n    }\r\n    // section.querySelector(\"a\").focus();\r\n  }\r\n  closeMenu () {\r\n    this.header.classList.remove(\"menu-expanded\");\r\n    this.header.classList.remove(\"mobile\");\r\n    this.resetExpandedState();\r\n    // this.mainAnchorActive.focus();\r\n  }\r\n  resetExpandedState () {\r\n    this.flyoutExpanded && this.flyoutExpanded.setAttribute(\"data-expanded\", false);\r\n    this.mainAnchorActive && this.mainAnchorActive.setAttribute(\"aria-expanded\", false);\r\n  }\r\n  expandLanguageMenu () {\r\n    this.header.classList.add(\"language-expanded\");\r\n    // this.language.querySelector(\"a\").focus();\r\n  }\r\n  closeLanguageMenu () {\r\n    this.header.classList.remove(\"language-expanded\");\r\n    // this.languageBtn.focus();\r\n  }\r\n  getDataAttr () {\r\n    var array = Array.from(document.querySelectorAll(\"header a, header button\"));\r\n    var data = array.reduce(function(acc, curr) {\r\n      var isYextButton = curr.matches(\".js-yext-submit\") || curr.matches(\".js-yxt-SearchBar-clear\");\r\n      if (!isYextButton) {\r\n        acc.push({\r\n          text: curr.innerText.trim() || `Img: ${curr.dataset.dmValue}`,\r\n          href: curr.href,\r\n          dmCategory: curr.dataset.dmCategory,\r\n          dmEvent: curr.dataset.dmEvent,\r\n          dmType: curr.dataset.dmType,\r\n          dmValue: curr.dataset.dmValue,\r\n          type: curr.tagName\r\n        });\r\n      }\r\n      return acc;\r\n    }, []);\r\n    console.table(data);\r\n  }\r\n}\r\n\r\n// class alias\r\nvar nav = function () {\r\n  return new Navigation();\r\n};\r\n\r\n// event listeners\r\ndocument.querySelector(\".main__search-btn\").addEventListener(\"click\", function () {\r\n  nav().expandSearch();\r\n});\r\n\r\ndocument.querySelector(\".utility__search-btn\").addEventListener(\"click\", function () {\r\n  var header = document.querySelector(\"header\");\r\n\r\n  if (header.matches(\".search-expanded\")) {\r\n    nav().closeSearch();\r\n  } else {\r\n    nav().expandSearch();\r\n  }\r\n});\r\n\r\ndocument.querySelector(\".utility__menu-btn\").addEventListener(\"click\", function (event) {\r\n  var header = document.querySelector(\"header\");\r\n  \r\n  if (header.matches(\".menu-expanded\")) {\r\n    nav().closeMenu();\r\n  } else {\r\n    nav().expandMenu(event.target);\r\n  }\r\n});\r\n\r\ndocument.querySelectorAll(\".main__link\").forEach(function (el) {\r\n  el.addEventListener(\"click\", function (event) {\r\n    if (!isMobile && event.target.ariaExpanded) {\r\n      event.preventDefault();\r\n      nav().expandMenu(event.target);\r\n    }\r\n  });\r\n});\r\n\r\ndocument.querySelectorAll(\".main__close-btn\").forEach(function (el) {\r\n  el.addEventListener(\"click\", function () {\r\n    nav().closeMenu();\r\n  });\r\n});\r\n\r\ndocument.querySelectorAll(\".utility__language\").forEach(function (el) {\r\n  el.addEventListener(\"click\", function () {\r\n    nav().expandLanguageMenu();\r\n  });\r\n});\r\n\r\ndocument.querySelector(\".language__close-btn\").addEventListener(\"click\", function () {\r\n  nav().closeLanguageMenu();\r\n});\r\n\r\ndocument.addEventListener(\"click\", function(event) {\r\n  var search = document.querySelector(\".search-expanded\");\r\n  var language = document.querySelector(\".language-expanded\");\r\n  var menu = document.querySelector(\".menu-expanded\");\r\n\r\n  if (!event.target.closest(\".main__search-btn, .utility__search-btn, .yxt-SearchBar-input, .yxt-SearchBar-autocomplete\")) {\r\n    if (search) {\r\n      nav().closeSearch();\r\n    }\r\n  }\r\n  if (!event.target.closest(\".main, .utility\") && !isMobile) {\r\n    if (menu) {\r\n      nav().closeMenu();\r\n    }\r\n  }\r\n  if (!event.target.closest(\".utility__language, .language\")) {\r\n    if (language) {\r\n      nav().closeLanguageMenu();\r\n    }\r\n  }\r\n});\r\n\r\ndocument.addEventListener(\"keydown\", function(event) {\r\n  var search = document.querySelector(\".search-expanded\");\r\n  var language = document.querySelector(\".language-expanded\");\r\n  var menu = document.querySelector(\".menu-expanded\");\r\n\r\n  if (event.key === \"Escape\") {\r\n    if (search) {\r\n      nav().closeSearch();\r\n    }\r\n    if (menu) {\r\n      nav().closeMenu();\r\n    }\r\n    if (language) {\r\n      nav().closeLanguageMenu();\r\n    }\r\n  }\r\n});\r\n\r\nvar isMobile = window.innerWidth < 768;\r\nwindow.addEventListener(\"resize\", function() {\r\n  isMobile = window.innerWidth < 768;\r\n});"],"names":["Navigation","constructor","this","header","document","querySelector","searchInput","searchBtn","flyoutExpanded","mainAnchorActive","language","languageBtn","expandSearch","matches","closeMenu","classList","add","focus","closeSearch","remove","expandMenu","target","section","dataset","id","isMobile","resetExpandedState","setAttribute","expandLanguageMenu","closeLanguageMenu","getDataAttr","data","Array","from","querySelectorAll","reduce","acc","curr","push","text","innerText","trim","dmValue","href","dmCategory","dmEvent","dmType","type","tagName","console","table","nav","addEventListener","event","forEach","el","ariaExpanded","preventDefault","search","menu","closest","key","window","innerWidth"],"version":3,"file":"index.cbd29e66.js.map"}